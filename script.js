<script>const i=[{s:"%5ENSEI",n:"Nifty 50"},{s:"%5EBSESN",n:"BSE SENSEX"},{s:"%5ENSEBANK",n:"Nifty Bank"},{s:"%5ECNXIT",n:"Nifty IT"}];async function f(s){try{const r=await fetch(`https://query1.finance.yahoo.com/v8/finance/chart/${s}`),t=await r.json(),e=t.chart.result[0].meta,a=(e.regularMarketPrice-e.chartPreviousClose).toFixed(2),c=a>0?"Up":"Down";return{change:a,direction:c}}catch(s){return console.error(`Error fetching data for ${s}:`,s),{change:"N/A",direction:"N/A"}}}async function u(){const s=document.getElementById("indexTable");for(const r of i)try{const t=await f(r.s),e=document.createElement("tr");e.innerHTML=`<td class="py-2 px-4 text-center">${r.n}</td><td class="py-2 px-4 text-center">${t.change}</td><td class="py-2 px-4 text-center ${"Up"===t.direction?"text-green-600":"text-red-600"}">${t.direction}</td>`,s.appendChild(e)}catch(s){console.error(`Error updating table for ${r.n}:`,s)}}u();</script>
